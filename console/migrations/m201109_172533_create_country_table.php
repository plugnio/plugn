<?php

use yii\db\Migration;

/**
 * Handles the creation of table `{{%country}}`.
 */
class m201109_172533_create_country_table extends Migration
{
    /**
     * {@inheritdoc}
     */
    public function safeUp()
    {
      $tableOptions = null;
      if ($this->db->driverName === 'mysql') {
          // http://stackoverflow.com/questions/766809/whats-the-difference-between-utf8-general-ci-and-utf8-unicode-ci
          $tableOptions = 'CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci	 ENGINE=InnoDB';
      }


        $this->createTable('{{%country}}', [
            'country_id' => $this->primaryKey(),
            'country_name' => $this->string(80),
            'country_name_ar' => $this->string(80),
            'iso' => $this->char(2),
            'emoji' => $this->char(3),
            'country_code' => $this->integer(3),
        ], $tableOptions);

        $sql = "
        INSERT INTO `country` (`country_id`, `country_name`, `country_name_ar`, `iso`, `emoji`, `country_code`) VALUES
        (1, 'Afghanistan', 'ุฃูุบุงูุณุชุงู', 'AF', '๐ฆ๐ซ', 93),
        (2, 'Albania', 'ุฃูุจุงููุง', 'AL', '๐ฆ๐ฑ', 355),
        (3, 'Algeria', 'ุงูุฌุฒุงุฆุฑ', 'DZ', '๐ฉ๐ฟ', 213),
        (4, 'Andorra', 'ุฃูุฏูุฑุง', 'AD', '๐ฆ๐ฉ', 376),
        (5, 'Angola', 'ุฃูุบููุง', 'AO', '๐ฆ๐ด', 244),
        (6, 'Argentina', 'ุงูุฃุฑุฌูุชูู', 'AR', '๐ฆ๐ท', 54),
        (7, 'Armenia', 'ุฃุฑููููุง', 'AM', '๐ฆ๐ฒ', 374),
        (8, 'Australia', 'ุฃุณุชุฑุงููุง', 'AU', '๐ฆ๐บ', 61),
        (9, 'Austria', 'ุงูููุณุง', 'AT', '๐ฆ๐น', 43),
        (10, 'Azerbaijan', 'ุฃุฐุฑุจูุฌุงู', 'AZ', '๐ฆ๐ฟ', 994),
        (11, 'Bahamas', 'ุฌุฒุฑ ุงูุจูุงูุง', 'BS', '๐ง๐ธ', 1242),
        (12, 'Bahrain', 'ุงูุจุญุฑูู', 'BH', '๐ง๐ญ', 973),
        (13, 'Bangladesh', 'ุจูุบูุงุฏูุด', 'BD', '๐ง๐ฉ', 973),
        (14, 'Barbados', 'ุจุฑุจุงุฏูุณ', 'BB', '๐ง๐ง', 1246),
        (15, 'Belarus', 'ุฑูุณูุง ุงูุจูุถุงุก', 'BY', '๐ง๐พ', 375),
        (16, 'Belgium', 'ุจูุฌููุง', 'BE', '๐ง๐ช', 32),
        (17, 'Belize', 'ุจููุฒ', 'BZ', '๐ง๐ฟ', 501),
        (18, 'Benin', 'ุจููู', 'BJ', '๐ง๐ฏ', 229),
        (19, 'Bhutan', 'ุจูุชุงู', 'BT', '๐ง๐น', 975),
        (20, 'Bolivia', 'ุจูููููุง', 'BO', '๐ง๐ด', 591),
        (21, 'Bosnia-Herzegovina', 'ุงูุจูุณูุฉ ูุงููุฑุณู', 'BA', '๐ง๐ฆ', 387),
        (22, 'Botswana', 'ุจูุชุณูุงูุง', 'BW', '๐ง๐ผ', 267),
        (23, 'Brazil', 'ุงูุจุฑุงุฒูู', 'BR', '๐ง๐ท', 55),
        (24, 'Britain', 'ุจุฑูุทุงููุง', 'GB', '๐ฌ๐ง', 44),
        (25, 'Brunei', 'ุจุฑููุงู', 'BN', '๐ง๐ณ', 673),
        (26, 'Bulgaria', 'ุจูุบุงุฑูุง', 'BG', '๐ง๐ฌ', 359),
        (27, 'Burkina', 'ูุฑูููุง ูุงุณู', 'BF', '๐ง๐ซ', 226),
        (28, 'Burma', 'ุจูุฑูุง', 'MM', '๐ฒ๐ฒ', 95),
        (29, 'Burundi', 'ุจูุฑููุฏู', 'BI', '๐ง๐ฎ', 257),
        (30, 'Cambodia', 'ููุจูุฏูุง', 'KH', '๐ฐ๐ญ', 855),
        (31, 'Cameroon', 'ุงููุงููุฑูู', 'CM', '๐จ๐ฒ', 237),
        (32, 'Canada', 'ููุฏุง', 'CA', '๐จ๐ฆ', 1),
        (33, 'Cape Verde Islands', 'ุฌุฒุฑ ุงูุฑุฃุณ ุงูุฃุฎุถุฑ', 'CV', '๐จ๐ป', 238),
        (34, 'Chad', 'ุชุดุงุฏ', 'TD', '๐น๐ฉ', 235),
        (35, 'Chile', 'ุชุดููู', 'CL', '๐จ๐ฑ', 56),
        (36, 'China', 'ุงูุตูู', 'CN', '๐จ๐ณ', 86),
        (37, 'Colombia', 'ูููููุจูุง', 'CO', '๐จ๐ด', 57),
        (38, 'Congo', 'ุงููููุบู', 'CG', '๐จ๐ฌ', 243),
        (39, 'Costa Rica', 'ููุณุชุง ุฑููุง', 'CR', '๐จ๐ท', 506),
        (40, 'Croatia', 'ูุฑูุงุชูุง', 'HR', '๐ญ๐ท', 385),
        (41, 'Cuba', 'ููุจุง', 'CU', '๐จ๐บ', 53),
        (42, 'Cyprus', 'ูุจุฑุต', 'CY', '๐จ๐พ', 357),
        (43, 'Czech Republic', 'ุฌูููุฑูุฉ ุงูุชุดูู', 'CZ', '๐จ๐ฟ', 420),
        (44, 'Denmark', 'ุงูุฏููุงุฑู', 'DK', '๐ฉ๐ฐ', 45),
        (45, 'Djibouti', 'ุฌูุจูุชู', 'DJ', '๐ฉ๐ฏ', 253),
        (46, 'Dominica', 'ุฏููููููุง', 'DM', '๐ฉ๐ฒ', 767),
        (47, 'Dominican Republic', 'ุฌูููุฑูุฉ ุงูุฏููููููุงู', 'DO', '๐ฉ๐ด', 809),
        (48, 'Ecuador', 'ุงูุฅููุงุฏูุฑ', 'EC', '๐ช๐จ', 593),
        (49, 'Egypt', 'ูุตุฑ', 'EG', '๐ช๐ฌ', 20),
        (50, 'El Salvador', 'ุงูุณููุงุฏูุฑ', 'SV', '๐ธ๐ป', 503),
        (52, 'Eritrea', 'ุฅุฑูุชุฑูุง', 'ER', '๐ช๐ท', 291),
        (53, 'Estonia', 'ุงุณุชูููุง', 'EE', '๐ช๐ช', 372),
        (54, 'Ethiopia', 'ุฃุซููุจูุง', 'ET', '๐ช๐น', 251),
        (55, 'Fiji', 'ููุฌู', 'FJ', '๐ซ๐ฏ', 679),
        (56, 'Finland', 'ููููุฏุง', 'FI', '๐ซ๐ฎ', 358),
        (57, 'France', 'ูุฑูุณุง', 'FR', '๐ซ๐ท', 33),
        (58, 'Gabon', 'ุงูุบุงุจูู', 'GA', '๐ฌ๐ฆ', 241),
        (59, 'Gambia', 'ุบุงูุจูุง', 'GM', '๐ฌ๐ฒ', 220),
        (60, 'Georgia', 'ุฌูุฑุฌูุง', 'GE', '๐ฌ๐ช', 995),
        (61, 'Germany', 'ุฃููุงููุง', 'DE', '๐ฉ๐ช', 49),
        (62, 'Ghana', 'ุบุงูุง', 'GH', '๐ฌ๐ญ', 233),
        (63, 'Greece', 'ูููุงู', 'GR', '๐ฌ๐ท', 30),
        (64, 'Grenada', 'ุบุฑููุงุฏุง', 'GD', '๐ฌ๐ฉ', 473),
        (65, 'Guatemala', 'ุบูุงุชููุงูุง', 'GT', '๐ฌ๐น', 502),
        (66, 'Guinea', 'ุบูููุง', 'GN', '๐ฌ๐ณ', 224),
        (67, 'Guyana', 'ุบูุงูุง', 'GY', '๐ฌ๐พ', 592),
        (68, 'Haiti', 'ูุงูุชู', 'HT', '๐ญ๐น', 509),
        (70, 'Honduras', 'ููุฏูุฑุงุณ', 'HN', '๐ญ๐ณ', 504),
        (71, 'Hungary', 'ููุบุงุฑูุง', 'HU', '๐ญ๐บ', 36),
        (72, 'Iceland', 'ุฃูุณููุฏุง', 'IS', '๐ฎ๐ธ', 354),
        (73, 'India', 'ุงูููุฏ', 'IN', '๐ฎ๐ณ', 91),
        (74, 'Indonesia', 'ุฃูุฏูููุณูุง', 'ID', '๐ฎ๐ฉ', 62),
        (75, 'Iran', 'ุฅูุฑุงู', 'IR', '๐ฎ๐ท', 98),
        (76, 'Iraq', 'ุงูุนุฑุงู', 'IQ', '๐ฎ๐ถ', 964),
        (77, 'Ireland', 'ุงูุฑููุฏุง', 'IE', '๐ฎ๐ช', 353),
        (78, 'Italy', 'ุฅูุทุงููุง', 'IT', '๐ฎ๐น', 39),
        (79, 'Jamaica', 'ุฌุงูุงููุง', 'JM', '๐ฏ๐ฒ', 876),
        (80, 'Japan', 'ุงููุงุจุงู', 'JP', '๐ฏ๐ต', 81),
        (81, 'Jordan', 'ุงูุฃุฑุฏู', 'JO', '๐ฏ๐ด', 962),
        (82, 'Kazakhstan', 'ูุงุฒุงุฎุณุชุงู', 'KZ', '๐ฐ๐ฟ', 7),
        (83, 'Kenya', 'ููููุง', 'KE', '๐ฐ๐ช', 254),
        (84, 'Kuwait', 'ุงููููุช', 'KW', '๐ฐ๐ผ', 965),
        (85, 'Laos', 'ูุงูุณ', 'LA', '๐ฑ๐ฆ', 853),
        (86, 'Latvia', 'ูุงุชููุง', 'LV', '๐ฑ๐ป', 371),
        (87, 'Lebanon', 'ูุจูุงู', 'LB', '๐ฑ๐ง', 961),
        (88, 'Liberia', 'ููุจูุฑูุง', 'LR', '๐ฑ๐ท', 231),
        (89, 'Libya', 'ููุจูุง', 'LY', '๐ฑ๐พ', 281),
        (90, 'Lithuania', 'ููุชูุงููุง', 'LT', '๐ฑ๐น', 370),
        (91, 'Macedonia', 'ููุฏูููุง', 'MK', '๐ฒ๐ฐ', 389),
        (92, 'Madagascar', 'ูุฏุบุดูุฑ', 'MG', '๐ฒ๐ฌ', 261),
        (93, 'Malawi', 'ููุงูู', 'MW', '๐ฒ๐ผ', 265),
        (94, 'Malaysia', 'ูุงููุฒูุง', 'MY', '๐ฒ๐พ', 60),
        (95, 'Maldives', 'ุฌุฒุฑ ุงููุงูุฏูู', 'MV', '๐ฒ๐ป', 960),
        (96, 'Mali', 'ูุงูู', 'ML', '๐ฒ๐ฑ', 223),
        (97, 'Malta', 'ูุงูุทุง', 'MT', '๐ฒ๐น', 356),
        (98, 'Mauritania', 'ููุฑูุชุงููุง', 'MR', '๐ฒ๐ท', 222),
        (99, 'Mauritius', 'ููุฑูุดููุณ', 'MU', '๐ฒ๐บ', 230),
        (100, 'Mexico', 'ุงูููุณูู', 'MX', '๐ฒ๐ฝ', 52),
        (101, 'Moldova', 'ูููุฏููุง', 'MD', '๐ฒ๐ฉ', 373),
        (102, 'Monaco', 'ูููุงูู', 'MC', '๐ฒ๐จ', 377),
        (103, 'Mongolia', 'ููุบูููุง', 'MN', '๐ฒ๐ณ', 976),
        (104, 'Montenegro', 'ุงูุฌุจู ุงูุฃุณูุฏ', 'ME', '๐ฒ๐ช', 382),
        (105, 'Morocco', 'ุจูุงุฏ ุงููุบุฑุจ', 'MA', '๐ฒ๐ฆ', 212),
        (106, 'Mozambique', 'ููุฒูุจูู', 'MZ', '๐ฒ๐ฟ', 258),
        (107, 'Namibia', 'ูุงููุจูุง', 'NA', '๐ณ๐ฆ', 264),
        (108, 'Nepal', 'ููุจุงู', 'NP', '๐ณ๐ต', 977),
        (109, 'Netherlands', 'ููููุฏุง', 'nl', '๐ณ๐ฑ', 31),
        (110, 'New Zealand', 'ูููุฒูููุฏุง', 'NZ', '๐ณ๐ฟ', 64),
        (111, 'Nicaragua', 'ูููุงุฑุงุบูุง', 'NI', '๐ณ๐ฎ', 505),
        (112, 'Niger', 'ุงูููุฌุฑ', 'NE', '๐ณ๐ช', 227),
        (113, 'Nigeria', 'ููุฌูุฑูุง', 'NG', '๐ณ๐ฌ', 234),
        (114, 'North Korea', 'ููุฑูุง ุงูุดูุงููุฉ', 'KP', '๐ฐ๐ต', 850),
        (115, 'Norway', 'ุงููุฑููุฌ', 'NO', '๐ณ๐ด', 47),
        (116, 'Oman', 'ุนูุงู', 'OM', '๐ด๐ฒ', 968),
        (117, 'Pakistan', 'ุจุงูุณุชุงู', 'PK', '๐ต๐ฐ', 92),
        (118, 'Panama', 'ุจูุงูุง', 'PA', '๐ต๐ฆ', 507),
        (119, 'Papua New Guinea', 'ุจุงุจูุง ุบูููุง ุงูุฌุฏูุฏุฉ', 'PG', '๐ต๐ฌ', 675),
        (120, 'Paraguay', 'ุจุงุฑุงุบูุงู', 'PY', '๐ต๐พ', 595),
        (121, 'Peru', 'ุจูุฑู', 'PE', '๐ต๐ช', 51),
        (122, 'the Philippines', 'ุงูููุจูู', 'PH', '๐ต๐ญ', 63),
        (123, 'Poland', 'ุจูููุฏุง', 'PL', '๐ต๐ฑ', 48),
        (124, 'Portugal', 'ุงูุจุฑุชุบุงู', 'PT', '๐ต๐น', 351),
        (125, 'Qatar', 'ุฏููุฉ ูุทุฑ', 'QA', '๐ถ๐ฆ', 974),
        (126, 'Romania', 'ุฑููุงููุง', 'RO', '๐ท๐ด', 40),
        (127, 'Russia', 'ุฑูุณูุง', 'RU', '๐ท๐บ', 7),
        (128, 'Rwanda', 'ุฑูุงูุฏุง', 'RW', '๐ท๐ผ', 250),
        (129, 'Saudi Arabia', 'ุงูุณุนูุฏูุฉ', 'SA', '๐ธ๐ฆ', 966),
        (131, 'Senegal', 'ุงูุณูุบุงู', 'SN', '๐ธ๐ณ', 221),
        (132, 'Serbia', 'ุตุฑุจูุง', 'RS', '๐ท๐ธ', 381),
        (133, 'Seychelles', 'ุณูุดูู', 'SC', '๐ธ๐จ', 248),
        (134, 'Sierra Leone', 'ุณูุฑุง ูููู', 'SL', '๐ธ๐ฑ', 232),
        (135, 'Singapore', 'ุณูุบุงููุฑุฉ', 'SG', '๐ธ๐ฌ', 65),
        (136, 'Slovakia', 'ุณูููุงููุง', 'SK', '๐ธ๐ฐ', 421),
        (137, 'Slovenia', 'ุณููููููุง', 'SI', '๐ธ๐ฎ', 386),
        (138, 'Somalia', 'ุงูุตููุงู', 'SO', '๐ธ๐ด', 252),
        (139, 'South Africa', 'ุฌููุจ ุฃูุฑูููุง', 'ZA', '๐ฟ๐ฆ', 27),
        (140, 'South Korea', 'ููุฑูุง ุงูุฌููุจูุฉ', 'KR', '๐ฐ๐ท', 82),
        (141, 'Spain', 'ุฅุณุจุงููุง', 'ES', '๐ช๐ธ', 34),
        (142, 'Sri Lanka', 'ุณูุฑููุงููุง', 'LK', '๐ฑ๐ฐ', 94),
        (143, 'Sudan', 'ุณูุฏุงู', 'SD', '๐ธ๐ฉ', 249),
        (144, 'Suriname', 'ุณูุฑููุงู', 'SR', '๐ธ๐ท', 597),
        (145, 'Swaziland', 'ุณูุงุฒููุงูุฏ', 'SZ', '๐ธ๐ฟ', 268),
        (146, 'Sweden', 'ุงูุณููุฏ', 'SE', '๐ธ๐ช', 46),
        (147, 'Switzerland', 'ุณููุณุฑุง', 'xa', '๐จ๐ญ', 41),
        (148, 'Syria', 'ุณูุฑูุง', 'SY', '๐ธ๐พ', 963),
        (149, 'Taiwan', 'ุชุงููุงู', 'TW', '๐น๐ผ', 886),
        (150, 'Tajikistan', 'ุทุงุฌููุณุชุงู', 'TJ', '๐น๐ฏ', 992),
        (151, 'Tanzania', 'ุชูุฒุงููุง', 'TZ', '๐น๐ฟ', 255),
        (152, 'Thailand', 'ุชุงููุงูุฏ', 'TH', '๐น๐ญ', 66),
        (153, 'Togo', 'ุชูุบู', 'TG', '๐น๐ฌ', 228),
        (154, 'Trinidad and Tobago', 'ุชุฑููุฏุงุฏ ูุชูุจุงุบู', 'TT', '๐น๐น', 868),
        (155, 'Tobagonian', 'Tobagonian', 'tt', NULL, 868),
        (156, 'Tunisia', 'ุชููุณ', 'TN', '๐น๐ณ', 216),
        (157, 'Turkey', 'ุงูุฏูู ุงูุฑููู', 'TR', '๐น๐ท', 90),
        (158, 'Turkmenistan', 'ุชุฑููุงูุณุชุงู', 'TM', '๐น๐ฒ', 993),
        (159, 'Tuvalu', 'ุชููุงูู', 'TV', '๐น๐ป', 688),
        (160, 'Uganda', 'ุฃูุบูุฏุง', 'UG', '๐บ๐ฌ', 256),
        (161, 'Ukraine', 'ุฃููุฑุงููุง', 'UA', '๐บ๐ฆ', 380),
        (162, 'United Arab Emirates', 'ุงูุฅูุงุฑุงุช ุงูุนุฑุจูุฉ ุงููุชุญุฏุฉ', 'AE', '๐ฆ๐ช', 971),
        (163, 'United Kingdom', 'ุงูููููุฉ ุงููุชุญุฏุฉ', 'gb', '๐ฌ๐ง', 44),
        (164, 'United States of America', 'ุงูููุงูุงุช ุงููุชุญุฏุฉ ุงูุฃูุฑูููุฉ', 'US', '๐บ๐ธ', 1),
        (165, 'Uruguay', 'ุฃูุฑูุบูุงู', 'UY', '๐บ๐พ', 598),
        (166, 'Uzbekistan', 'ุฃูุฒุจูุณุชุงู', 'UZ', '๐บ๐ฟ', 998),
        (167, 'Vanuatu', 'ูุงููุงุชู', 'VU', '๐ป๐บ', 678),
        (168, 'Venezuela', 'ููุฒูููุง', 'VE', '๐ป๐ช', 58),
        (169, 'Vietnam', 'ููุชูุงู', 'VN', '๐ป๐ณ', 84),
        (170, 'Wales', 'ูููุฒ', 'xw', NULL, 681),
        (171, 'Western Samoa', 'ุณุงููุง ุงูุบุฑุจูุฉ', 'WS', '๐ผ๐ธ', 685),
        (172, 'Yemen', 'ูููู', 'YE', '๐พ๐ช', 967),
        (174, 'Zaire', 'ุฒุงุฆูุฑ', 'dr', NULL, 243),
        (175, 'Zambia', 'ุฒุงูุจูุง', 'ZM', '๐ฟ๐ฒ', 260),
        (176, 'Zimbabwe', 'ุฒููุจุงุจูู', 'ZW', '๐ฟ๐ผ', 263);
        ";

        Yii::$app->db->createCommand($sql)->execute();



        $this->addColumn('restaurant', 'country_id', $this->integer()->defaultValue(84)->notNull()->after('restaurant_uuid'));


        // creates index for column `country_id`
        $this->createIndex(
                'idx-restaurant-country_id',
                'restaurant',
                'country_id'
        );

        // add foreign key for table `restaurant`
        $this->addForeignKey(
                'fk-restaurant-country_id',
                'restaurant',
                'country_id',
                'country',
                'country_id',
                'CASCADE'
        );

    }

    /**
     * {@inheritdoc}
     */
    public function safeDown()
    {

      $this->dropForeignKey('fk-restaurant-country_id', 'restaurant');
      $this->dropIndex('idx-restaurant-country_id', 'restaurant');

      $this->dropColumn('restaurant', 'country_id');

      $this->dropTable('{{%country}}');
    }
}
